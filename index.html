<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêß Flappy Penguin - Play Online</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #FFD700;
            --danger-color: #DC143C;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background: rgba(0, 0, 0, 0.3);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid var(--accent-color);
        }

        header h1 {
            font-size: 48px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            flex: 1;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }

        .game-section {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #gameContainer {
            position: relative;
            width: 500px;
            height: 600px;
            border: 8px solid #fff;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            background: #87CEEB;
            border-radius: 10px;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .info {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
            font-weight: bold;
            color: black;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 15px;
            border-radius: 5px;
        }

        .score {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 32px;
            font-weight: bold;
            color: black;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 20px;
            border-radius: 5px;
        }

        .lives {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 15px;
            border-radius: 5px;
        }

        .info-section {
            color: white;
        }

        .info-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--accent-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .info-section p {
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 20px;
            opacity: 0.95;
        }

        .controls {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent-color);
        }

        .controls h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .controls p {
            margin-bottom: 8px;
            font-size: 15px;
        }

        .features {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }

        .features h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .feature-list {
            list-style: none;
        }

        .feature-list li {
            margin-bottom: 10px;
            font-size: 15px;
            padding-left: 25px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #87CEEB 0%, #87CEEB 100%);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            border: 4px solid #333;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal h1 {
            font-size: 48px;
            color: var(--danger-color);
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .modal h2 {
            font-size: 36px;
            color: #333;
            margin-bottom: 15px;
        }

        .modal p {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
        }

        .modal input {
            padding: 12px 20px;
            font-size: 18px;
            width: 100%;
            max-width: 300px;
            margin-bottom: 15px;
            border: 2px solid #333;
            border-radius: 5px;
            font-family: Arial, sans-serif;
        }

        .modal button {
            padding: 12px 30px;
            font-size: 16px;
            background-color: var(--accent-color);
            border: 2px solid #333;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .modal button:hover {
            background-color: #FFC700;
            transform: scale(1.05);
        }

        .leaderboard {
            text-align: left;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
        }

        .leaderboard-item {
            font-size: 16px;
            padding: 8px 0;
            color: #333;
            border-bottom: 1px solid #ddd;
        }

        .leaderboard-item:last-child {
            border-bottom: none;
        }

        footer {
            background: rgba(0, 0, 0, 0.5);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 2px solid var(--accent-color);
        }

        footer p {
            margin-bottom: 10px;
        }

        .share-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent-color);
            text-align: center;
        }

        .share-section h3 {
            color: var(--accent-color);
            margin-bottom: 15px;
        }

        .share-section a {
            display: inline-block;
            background: var(--accent-color);
            color: #333;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin: 10px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .share-section a:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            #gameContainer {
                width: 100%;
                max-width: 500px;
                height: auto;
                aspect-ratio: 500 / 600;
            }

            header h1 {
                font-size: 36px;
            }

            .info-section h2 {
                font-size: 28px;
            }
        }

        @media (max-width: 600px) {
            #gameContainer {
                width: 90vw;
                height: calc(90vw * 1.2);
                max-width: 500px;
                max-height: 600px;
            }

            header h1 {
                font-size: 28px;
            }

            .container {
                padding: 20px 10px;
            }

            .info-section h2 {
                font-size: 24px;
            }

            .modal-content {
                padding: 20px;
            }

            .modal h1 {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üêß FLAPPY PENGUIN üêß</h1>
        <p>Play the addictive penguin flying game online!</p>
    </header>

    <div class="container">
        <div class="game-section">
            <div id="gameContainer">
                <canvas id="gameCanvas"></canvas>
                <div class="info" id="playerName">Player: -</div>
                <div class="score" id="scoreDisplay">0</div>
                <div class="lives" id="livesDisplay"></div>
            </div>
        </div>

        <div class="info-section">
            <h2>Welcome to Flappy Penguin!</h2>
            
            <div class="controls">
                <h3>üéÆ How to Play</h3>
                <p><strong>SPACE</strong> or <strong>CLICK/TAP</strong> - Flap to fly</p>
                <p><strong>R</strong> - Restart game</p>
                <p><strong>ESC</strong> - Back to menu</p>
            </div>

            <div class="features">
                <h3>‚ú® Features</h3>
                <ul class="feature-list">
                    <li>3 Lives system with hearts</li>
                    <li>High score leaderboard</li>
                    <li>Player name tracking</li>
                    <li>Progressive difficulty</li>
                    <li>Mobile & desktop friendly</li>
                    <li>No installation needed</li>
                </ul>
            </div>

            <div class="share-section">
                <h3>üì± Share This Game</h3>
                <p>Share your score with friends!</p>
                <a href="https://twitter.com/intent/tweet?text=I%27m%20playing%20Flappy%20Penguin!%20Can%20you%20beat%20my%20score%3F%20üêß" target="_blank">Tweet It</a>
                <a href="#" onclick="copyLink()">Copy Link</a>
            </div>
        </div>
    </div>

    <!-- Name Input Modal -->
    <div id="nameModal" class="modal show">
        <div class="modal-content">
            <h1>üêß FLAPPY PENGUIN üêß</h1>
            <p style="font-size: 20px; margin-bottom: 30px;">Welcome to the ultimate penguin flying adventure!</p>
            <p>Enter Your Name to Start</p>
            <input type="text" id="nameInput" placeholder="Your name" maxlength="15" autocomplete="off">
            <br>
            <button onclick="startGame()">üöÄ Start Game</button>
        </div>
    </div>

    <!-- Start Screen Modal -->
    <div id="startModal" class="modal">
        <div class="modal-content">
            <h1>üêß FLAPPY PENGUIN üêß</h1>
            <p id="welcomeText" style="font-size: 20px; margin-bottom: 20px;">Welcome!</p>
            <h2>üèÜ HIGH SCORES</h2>
            <div class="leaderboard" id="leaderboard">
                <div class="leaderboard-item">No scores yet! Be the first!</div>
            </div>
            <p style="margin-top: 20px; font-size: 18px; font-weight: bold;">PRESS SPACE TO START</p>
            <button onclick="changePlayer()">üë§ Change Name</button>
            <button onclick="window.location.reload()">‚ùå Quit</button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <h1>GAME OVER</h1>
            <p id="finalScoreText" style="font-size: 24px; color: #333; margin-bottom: 10px;">Score: 0</p>
            <p id="livesLeftText" style="font-size: 18px; color: #333; margin-bottom: 20px;">Lives Left: 0</p>
            <p id="highScoreMessage"></p>
            <button id="continueBtn" onclick="continueGame()" style="display:none;">‚ñ∂Ô∏è Continue (SPACE)</button>
            <button id="restartBtn" onclick="restartGame()" style="display:none;">üîÑ Restart (R)</button>
            <button onclick="goToMenu()">üè† Back to Menu (ESC)</button>
        </div>
    </div>

    <footer>
        <p>üêß Flappy Penguin - Created with ‚ù§Ô∏è</p>
        <p>¬© 2026 - All Rights Reserved | Play, Share & Compete!</p>
    </footer>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        canvas.width = 500;
        canvas.height = 600;

        // Game variables
        let gameState = 'nameInput';
        let playerName = '';
        let score = 0;
        let lives = 3;
        let gameEnded = false;

        // Game physics
        const GRAVITY = 0.2;
        const FLAP_STRENGTH = -6;
        const PIPE_GAP = 160;
        const PIPE_WIDTH = 52;
        const PIPE_VELOCITY_START = -2.5;

        // Bird object
        let bird = {
            x: canvas.width / 4,
            y: canvas.height / 2,
            velocity: 0,
            width: 34,
            height: 24,
            alive: true,

            update() {
                this.velocity += GRAVITY;
                this.y += this.velocity;

                if (this.y + this.height >= canvas.height - 50 || this.y <= 0) {
                    this.alive = false;
                }
            },

            flap() {
                this.velocity = FLAP_STRENGTH;
            },

            draw() {
                // Penguin body (black)
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.ellipse(this.x + 17, this.y + 12, 12, 9, 0, 0, Math.PI * 2);
                ctx.fill();

                // Penguin belly (white)
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.ellipse(this.x + 17, this.y + 12, 9, 6, 0, 0, Math.PI * 2);
                ctx.fill();

                // Penguin head
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.arc(this.x + 17, this.y + 2, 7, 0, Math.PI * 2);
                ctx.fill();

                // Eyes
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.arc(this.x + 13, this.y, 3, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(this.x + 21, this.y, 3, 0, Math.PI * 2);
                ctx.fill();

                // Pupils
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.arc(this.x + 13, this.y, 1, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(this.x + 21, this.y, 1, 0, Math.PI * 2);
                ctx.fill();

                // Beak
                ctx.fillStyle = '#FF8C00';
                ctx.beginPath();
                ctx.moveTo(this.x + 17, this.y + 4);
                ctx.lineTo(this.x + 20, this.y + 6);
                ctx.lineTo(this.x + 17, this.y + 8);
                ctx.fill();

                // Feet
                ctx.strokeStyle = '#FF8C00';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(this.x + 12, this.y + 21);
                ctx.lineTo(this.x + 12, this.y + 24);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(this.x + 22, this.y + 21);
                ctx.lineTo(this.x + 22, this.y + 24);
                ctx.stroke();
            }
        };

        // Pipes array
        let pipes = [];
        let pipeVelocity = PIPE_VELOCITY_START;

        class Pipe {
            constructor() {
                this.x = canvas.width;
                this.width = PIPE_WIDTH;
                this.gap = PIPE_GAP;
                this.velocity = pipeVelocity;
                this.topHeight = Math.random() * (canvas.height - 50 - this.gap - 50) + 50;
                this.bottomY = this.topHeight + this.gap;
                this.scored = false;
            }

            update() {
                this.x += this.velocity;
            }

            draw() {
                ctx.fillStyle = '#228B22';
                ctx.fillRect(this.x, 0, this.width, this.topHeight);
                ctx.fillRect(this.x, this.bottomY, this.width, canvas.height - this.bottomY - 50);

                ctx.strokeStyle = '#006400';
                ctx.lineWidth = 3;
                ctx.strokeRect(this.x, 0, this.width, this.topHeight);
                ctx.strokeRect(this.x, this.bottomY, this.width, canvas.height - this.bottomY - 50);
            }

            isOffScreen() {
                return this.x + this.width < 0;
            }

            checkCollision(bird) {
                const birdRect = {x: bird.x, y: bird.y, w: bird.width, h: bird.height};
                const topPipe = {x: this.x, y: 0, w: this.width, h: this.topHeight};
                const bottomPipe = {x: this.x, y: this.bottomY, w: this.width, h: canvas.height - this.bottomY - 50};

                return (birdRect.x < topPipe.x + topPipe.w && birdRect.x + birdRect.w > topPipe.x &&
                        birdRect.y < topPipe.y + topPipe.h && birdRect.y + birdRect.h > topPipe.y) ||
                       (birdRect.x < bottomPipe.x + bottomPipe.w && birdRect.x + birdRect.w > bottomPipe.x &&
                        birdRect.y < bottomPipe.y + bottomPipe.h && birdRect.y + birdRect.h > bottomPipe.y);
            }
        }

        // Leaderboard (localStorage)
        let leaderboard = JSON.parse(localStorage.getItem('flappyPenguinScores') || '{}');

        function saveScore(name, score) {
            if (!leaderboard[name] || score > leaderboard[name]) {
                leaderboard[name] = score;
                localStorage.setItem('flappyPenguinScores', JSON.stringify(leaderboard));
                return true;
            }
            return false;
        }

        function getTopScores() {
            return Object.entries(leaderboard)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);
        }

        function updateLeaderboard() {
            const lb = document.getElementById('leaderboard');
            const topScores = getTopScores();
            if (topScores.length === 0) {
                lb.innerHTML = '<div class="leaderboard-item">No scores yet! Be the first!</div>';
            } else {
                lb.innerHTML = topScores.map((s, i) => 
                    `<div class="leaderboard-item">ü•á ${i + 1}. ${s[0]}: ${s[1]} points</div>`
                ).join('');
            }
        }

        function copyLink() {
            const link = window.location.href;
            navigator.clipboard.writeText(link).then(() => {
                alert('Link copied to clipboard! üìã');
            });
        }

        // Game functions
        function startGame() {
            playerName = document.getElementById('nameInput').value.trim();
            if (playerName === '') {
                alert('Please enter your name!');
                return;
            }
            document.getElementById('nameModal').classList.remove('show');
            document.getElementById('startModal').classList.add('show');
            gameState = 'startScreen';
            updateLeaderboard();
            document.getElementById('welcomeText').textContent = `Welcome, ${playerName}!`;
        }

        function changePlayer() {
            document.getElementById('startModal').classList.remove('show');
            document.getElementById('nameModal').classList.add('show');
            document.getElementById('nameInput').value = '';
            gameState = 'nameInput';
        }

        function beginGame() {
            document.getElementById('startModal').classList.remove('show');
            gameState = 'playing';
            resetGame();
        }

        function resetGame() {
            bird = {
                x: canvas.width / 4,
                y: canvas.height / 2,
                velocity: 0,
                width: 34,
                height: 24,
                alive: true,
                update: bird.update,
                flap: bird.flap,
                draw: bird.draw
            };
            pipes = [];
            score = 0;
            pipeVelocity = PIPE_VELOCITY_START;
            pipeSpawnCounter = 0;
        }

        function continueGame() {
            bird.alive = true;
            bird.y = canvas.height / 2;
            bird.velocity = 0;
            pipes = [];
            document.getElementById('gameOverModal').classList.remove('show');
            gameState = 'playing';
            pipeSpawnCounter = 0;
        }

        function restartGame() {
            lives = 3;
            gameEnded = false;
            resetGame();
            document.getElementById('gameOverModal').classList.remove('show');
            document.getElementById('startModal').classList.add('show');
            gameState = 'startScreen';
            updateLeaderboard();
        }

        function goToMenu() {
            document.getElementById('gameOverModal').classList.remove('show');
            document.getElementById('startModal').classList.add('show');
            gameState = 'startScreen';
            updateLeaderboard();
        }

        function drawHeart(x, y, size = 30) {
            const pix = size / 8;
            const blackPixels = [
                [0, 1], [1, 0], [2, 0], [5, 0], [6, 0], [7, 1],
                [0, 2], [7, 2], [0, 3], [7, 3], [0, 4], [1, 4], [6, 4], [7, 4],
                [1, 5], [2, 5], [5, 5], [6, 5], [2, 6], [3, 6], [4, 6], [5, 6],
                [3, 7], [4, 7]
            ];
            const redPixels = [
                [1, 1], [2, 1], [3, 1], [4, 1], [5, 1], [6, 1],
                [1, 2], [2, 2], [3, 2], [4, 2], [5, 2], [6, 2],
                [1, 3], [2, 3], [3, 3], [4, 3], [5, 3], [6, 3],
                [2, 4], [3, 4], [4, 4], [5, 4], [3, 5], [4, 5]
            ];
            const whitePixels = [[3, 2], [4, 2], [3, 3], [4, 3], [3, 4], [4, 4]];

            ctx.fillStyle = '#000';
            blackPixels.forEach(p => ctx.fillRect(x + p[0] * pix, y + p[1] * pix, pix, pix));
            ctx.fillStyle = '#DC143C';
            redPixels.forEach(p => ctx.fillRect(x + p[0] * pix, y + p[1] * pix, pix, pix));
            ctx.fillStyle = '#fff';
            whitePixels.forEach(p => ctx.fillRect(x + p[0] * pix, y + p[1] * pix, pix, pix));
        }

        function draw() {
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, canvas.height - 50, canvas.width, 50);
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height - 50);
            ctx.lineTo(canvas.width, canvas.height - 50);
            ctx.stroke();

            if (gameState === 'playing') {
                pipes.forEach(pipe => pipe.draw());
                bird.draw();

                document.getElementById('scoreDisplay').textContent = score;
                document.getElementById('playerName').textContent = `Player: ${playerName}`;

                let heartHTML = '';
                for (let i = 0; i < lives; i++) {
                    heartHTML += '‚ù§Ô∏è ';
                }
                document.getElementById('livesDisplay').innerHTML = heartHTML;
            }
        }

        let pipeSpawnCounter = 0;
        const PIPE_SPAWN_INTERVAL = 100;
        let gameStarted = false;

        function update() {
            if (gameState === 'playing' && gameStarted) {
                bird.update();

                if (!bird.alive) {
                    lives--;
                    if (lives <= 0) {
                        gameEnded = true;
                    }
                    gameState = 'gameOver';
                    showGameOver();
                    return;
                }

                pipeSpawnCounter++;
                if (pipeSpawnCounter >= PIPE_SPAWN_INTERVAL) {
                    pipes.push(new Pipe());
                    pipeSpawnCounter = 0;
                }

                pipes.forEach((pipe, index) => {
                    pipe.update();

                    if (pipe.checkCollision(bird)) {
                        bird.alive = false;
                        lives--;
                        if (lives <= 0) {
                            gameEnded = true;
                        }
                        gameState = 'gameOver';
                        showGameOver();
                    }

                    if (!pipe.scored && pipe.x + pipe.width < bird.x) {
                        pipe.scored = true;
                        score++;
                        pipeVelocity -= 0.1;
                    }
                });

                pipes = pipes.filter(pipe => !pipe.isOffScreen());
            }
        }

        function showGameOver() {
            document.getElementById('finalScoreText').textContent = `Score: ${score}`;
            document.getElementById('livesLeftText').textContent = `Lives Left: ${lives}`;
            document.getElementById('continueBtn').style.display = lives > 0 ? 'inline-block' : 'none';
            document.getElementById('restartBtn').style.display = gameEnded ? 'inline-block' : 'none';

            const isNewHighScore = saveScore(playerName, score);
            if (isNewHighScore && score > 0) {
                document.getElementById('highScoreMessage').innerHTML = '<span style="color: gold; font-size: 20px; font-weight: bold;">‚≠ê NEW HIGH SCORE! üéâ</span>';
            } else {
                document.getElementById('highScoreMessage').innerHTML = '';
            }

            document.getElementById('gameOverModal').classList.add('show');
        }

        // Keyboard events
        let gameStartedBySpace = false;

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                if (gameState === 'startScreen' && !gameStartedBySpace) {
                    gameStartedBySpace = true;
                    beginGame();
                    gameStarted = true;
                } else if (gameState === 'playing' && gameStarted) {
                    bird.flap();
                } else if (gameState === 'gameOver' && !gameEnded) {
                    continueGame();
                    gameStarted = true;
                }
            } else if (e.key === 'r' || e.key === 'R') {
                if (gameState === 'gameOver' && gameEnded) {
                    restartGame();
                    gameStartedBySpace = false;
                }
            } else if (e.key === 'Escape') {
                if (gameState === 'gameOver') {
                    goToMenu();
                    gameStartedBySpace = false;
                }
            }
        });

        // Touch controls for mobile
        canvas.addEventListener('click', () => {
            if (gameState === 'startScreen' && !gameStartedBySpace) {
                gameStartedBySpace = true;
                beginGame();
                gameStarted = true;
            } else if (gameState === 'playing' && gameStarted) {
                bird.flap();
            } else if (gameState === 'gameOver' && !gameEnded) {
                continueGame();
                gameStarted = true;
            }
        });

        // Focus input on load
        window.addEventListener('load', () => {
            document.getElementById('nameInput').focus();
        });

        // Game loop
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
